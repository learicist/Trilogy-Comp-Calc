<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>Trilogy Compensation Calculator</title>
		<link 
			rel="stylesheet"
			href="main.css"
			type="text/css">
		<script
			src="https://code.jquery.com/jquery-3.4.1.js"
			integrity="sha256-WpOohJOqMqqyKL9FccASB9O0KwACQJpFTUBLTYOVvVU="
			crossorigin="anonymous">
		</script>
	</head>
	
	<body>
		<div class="container">
			<div id="getDate">
				<h2 id="date"></h3>
			</div>
		
			<div class="card">
				<div id="collapseNine" class="collapse">
					<div class="card-body">
						<div class="row calc-heading">
							<h3><span class="sop-heading">Standard Part Time Position</span></h3>
						</div>
						<div class="row">
							<div class="col-6" id="btnHouse">
								<p><strong>Calculate by Desired Salary</strong></p>
								<div class="form-group">
									<label>Desired Salary: </label>
									<input type="number" name="desiredSalary" id="desiredSalary" min="1" max="72">
								</div>
								<br>
								<button id="calculateByDesiredSalary" class="btn calcBtn">Calculate</button>
								
								<br>
								<br>
								
								<p><strong>Calculate by # of Days Left</strong></p>
								<div class="form-group input-field inline calcInput">
									<label># of Days Left</label>
									<input type="number" name="remainingClasses" id="remainingClasses" min="1" max="72">
								</div>
								<br>
								<button id="calculateByDaysRemaining" class="waves-effect waves-light btn calcBtn">Calculate</button>
							</div>
							<div class="resultsDiv col-2" id="baseDiv">
							</div>
							<div class="resultsDiv col-2" id="bonusDiv">
							</div>
							<div class="resultsDiv col-2" id="totalDiv">
							</div>
						</div>
					</div>
				</div>
			</div> <!--card-->
		</div>
		
		<script type="text/javascript">

			$(document).ready(function () {

				// Load today's date
				var d = new Date();
				var n = d.toLocaleDateString();
				document.getElementById('date').innerHTML = "Today: " + n;
				
				//University Choice
				/*let uniChoice = $('#university').val();
				let unis = document.getElementsByClassName('uni-choice');
				for (let i=0; i<unis.length; i++){
					unis[i].innerHTML = uniChoice;
				}*/

			});

			// CALCULATE COMPENSATION
			var totalDays = 40;
			
			$('#btnHouse').on('click', '#calculateByDesiredSalary', function () {
				console.log($('#desiredSalary').val());
				var temp = $('#desiredSalary').val() * totalDays;
				$('#baseDiv').html() + temp;
			});
			
			$('#btnHouse').on('click', '#calculateByDaysRemaining', function () {
				console.log($('#remainingClasses').val());
				var temp = $('#remainingClasses').val() * totalDays;
				$('#bonusDiv').html() + temp;
			});

			// Calculate by classes missed
			/*$('#collapseNine').on("click", "#calculateByDaysMissed", function(){

				$("#baseDiv").empty();
				$("#bonusDiv").empty();
				$("#totalDiv").empty();
				$('#remainingClasses').val('');

				var classesMissed = $("#missedClasses").val();
				var remainingClasses = (72 - classesMissed);
				var totalComp = Math.round(remainingClasses * 90.28);
				var berkeleyTotalComp = Math.round(remainingClasses * 98.8888889);
				var basePay = Math.round(remainingClasses * 69.44);
				var berkeleyBasePay = Math.round(remainingClasses * 78.055555);
				var bonus =  (totalComp - basePay);
				var berkeleyBonus = (berkeleyTotalComp - berkeleyBasePay);

				//console.log(basePay, bonus, totalComp, berkeleyBasePay, berkeleyTotalComp);

				$("#baseDiv")
					.append("<p class='compHeading'>Base Pay</p>")
					.append(basePay + '<br>' + `(Berkeley: ${berkeleyBasePay})`);
					
				$("#bonusDiv")
					.append("<p class='compHeading'>Bonus</p>")
					.append(bonus + '<br>' + `(Berkeley: ${berkeleyBonus})`);
					
				$("#totalDiv")
					.append("<p class='compHeading'>Total Comp</p>")
					.append(totalComp + '<br>' + `(Berkeley: ${berkeleyTotalComp})`);

			});

			// Calculate by classes remaining
			$('#collapseNine').on("click", "#calculateByDaysRemaining", function(){

				$("#baseDiv").empty();
				$("#bonusDiv").empty();
				$("#totalDiv").empty();
				$('#missedClasses').val('');

				var remainingClasses = $("#remainingClasses").val();
				
				console.log(remainingClasses);

				var totalComp = Math.round(remainingClasses * 90.28);
				var berkeleyTotalComp = Math.round(remainingClasses * 98.8888889);
				var basePay = Math.round(remainingClasses * 69.44);
				var berkeleyBasePay = Math.round(remainingClasses * 78.055555);
				var bonus = (totalComp - basePay);
				var berkeleyBonus = (berkeleyTotalComp - berkeleyBasePay);

				$("#baseDiv")
					.append("<p class='compHeading'>Base Pay</p>")
					.append(basePay + '<br>' + `(Berkeley: ${berkeleyBasePay})`);
					
				$("#bonusDiv")
					.append("<p class='compHeading'>Bonus</p>")
					.append(bonus + '<br>' + `(Berkeley: ${berkeleyBonus})`);
					
				$("#totalDiv")
					.append("<p class='compHeading'>Total Comp</p>")
					.append(totalComp + '<br>' + `(Berkeley: ${berkeleyTotalComp})`);

			});*/

			
		</script>
	
	
	</body>

</html>